<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ü•ö EggVault‚Äî Gerenciamento de Ovos</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ü•ö</text></svg>">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TELA DE LOGIN ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="login-overlay" id="login-overlay">
        <div class="login-card">
            <div class="login-header">
                <span class="login-logo">ü•ö</span>
                <h1>EggVault</h1>
                <p>Fa√ßa login para continuar</p>
            </div>
            <form id="form-login">
                <div class="form-group">
                    <label for="login-username"><i class="fas fa-user"></i> Usu√°rio</label>
                    <input type="text" id="login-username" required placeholder="admin" autocomplete="username" autocapitalize="none">
                </div>
                <div class="form-group">
                    <label for="login-password"><i class="fas fa-lock"></i> Senha</label>
                    <div class="password-wrapper">
                        <input type="password" id="login-password" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" autocomplete="current-password">
                        <button type="button" class="btn-toggle-password" onclick="togglePasswordVisibility()">
                            <i class="fas fa-eye" id="password-eye-icon"></i>
                        </button>
                    </div>
                </div>
                <div class="login-error" id="login-error" style="display:none;">
                    <i class="fas fa-exclamation-circle"></i>
                    <span id="login-error-text"></span>
                </div>
                <button type="submit" class="btn btn-primary btn-login" id="btn-login">
                    <i class="fas fa-sign-in-alt"></i> Entrar
                </button>
            </form>
            <div class="login-footer">
                <small>Primeiro acesso? use <strong>admin</strong> / <strong>admin</strong></small>
            </div>
        </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MODAL ALTERAR SENHA ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="modal-overlay" id="modal-senha" style="display:none;">
        <div class="modal-card">
            <h3><i class="fas fa-key"></i> Alterar Senha</h3>
            <form id="form-alterar-senha">
                <div class="form-group">
                    <label for="senha-atual">Senha Atual</label>
                    <input type="password" id="senha-atual" required placeholder="Senha atual">
                </div>
                <div class="form-group">
                    <label for="nova-senha">Nova Senha</label>
                    <input type="password" id="nova-senha" required placeholder="M√≠nimo 4 caracteres" minlength="4">
                </div>
                <div class="form-group">
                    <label for="confirmar-senha">Confirmar Nova Senha</label>
                    <input type="password" id="confirmar-senha" required placeholder="Repita a nova senha">
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-icon-text" onclick="hideChangePassword()">
                        <i class="fas fa-times"></i> Cancelar
                    </button>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i> Salvar
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MODAL CONFIRMAR A√á√ÉO ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="modal-overlay" id="modal-confirm" style="display:none;">
        <div class="modal-card modal-confirm-card">
            <div class="confirm-icon" id="confirm-icon">
                <i class="fas fa-exclamation-triangle"></i>
            </div>
            <h3 id="confirm-title">Confirmar A√ß√£o</h3>
            <p class="confirm-message" id="confirm-message">Tem certeza?</p>
            <div class="modal-actions">
                <button type="button" class="btn btn-icon-text" id="confirm-cancel-btn">
                    <i class="fas fa-times"></i> Cancelar
                </button>
                <button type="button" class="btn btn-danger" id="confirm-ok-btn">
                    <i class="fas fa-check"></i> Confirmar
                </button>
            </div>
        </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MODAL REDEFINIR SENHA (ADMIN) ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="modal-overlay" id="modal-reset-senha" style="display:none;">
        <div class="modal-card">
            <h3><i class="fas fa-key"></i> Redefinir Senha</h3>
            <p class="confirm-message" id="reset-senha-subtitle">Definir nova senha para o usu√°rio</p>
            <form id="form-reset-senha">
                <input type="hidden" id="reset-senha-user-id">
                <input type="hidden" id="reset-senha-username">
                <div class="form-group">
                    <label for="reset-nova-senha">Nova Senha</label>
                    <input type="password" id="reset-nova-senha" required placeholder="M√≠nimo 4 caracteres" minlength="4">
                </div>
                <div class="form-group">
                    <label for="reset-confirmar-senha">Confirmar Nova Senha</label>
                    <input type="password" id="reset-confirmar-senha" required placeholder="Repita a nova senha">
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-icon-text" onclick="hideResetPassword()">
                        <i class="fas fa-times"></i> Cancelar
                    </button>
                    <button type="submit" class="btn btn-warning">
                        <i class="fas fa-save"></i> Redefinir
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SIDEBAR ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <nav class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <span class="logo">ü•ö</span>
            <h2>EggVault</h2>
        </div>

        <ul class="nav-links">
            <li class="active" data-tab="estoque">
                <i class="fas fa-warehouse"></i>
                <span>Estoque</span>
            </li>
            <li data-tab="entradas">
                <i class="fas fa-arrow-circle-down"></i>
                <span>Entradas</span>
            </li>
            <li data-tab="vendas">
                <i class="fas fa-shopping-cart"></i>
                <span>Vendas</span>
            </li>
            <li data-tab="quebrados">
                <i class="fas fa-heart-crack"></i>
                <span>Quebrados</span>
            </li>
            <li data-tab="despesas">
                <i class="fas fa-file-invoice-dollar"></i>
                <span>Despesas</span>
            </li>
            <li data-tab="precos">
                <i class="fas fa-tags"></i>
                <span>Pre√ßos</span>
            </li>
            <li data-tab="relatorios">
                <i class="fas fa-chart-pie"></i>
                <span>Relat√≥rios</span>
            </li>
            <li data-tab="admin" id="nav-admin" style="display:none;">
                <i class="fas fa-users-cog"></i>
                <span>Admin</span>
            </li>
        </ul>

        <div class="sidebar-user" id="sidebar-user">
            <div class="user-info">
                <i class="fas fa-user-circle"></i>
                <span id="sidebar-username">‚Äî</span>
            </div>
            <div class="user-actions">
                <button class="btn-sidebar-action" onclick="showChangePassword()" title="Alterar Senha">
                    <i class="fas fa-key"></i>
                </button>
                <button class="btn-sidebar-action btn-logout" onclick="doLogout()" title="Sair">
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </div>
        </div>

        <div class="sidebar-footer">
            <small>¬© 2026 juniodevs</small>
        </div>
    </nav>

    <button class="mobile-menu-btn" id="mobile-menu-btn">
        <i class="fas fa-bars"></i>
    </button>

    <main class="main-content">

        <section id="tab-estoque" class="tab-content active">
            <div class="page-header">
                <h1><i class="fas fa-warehouse"></i> Estoque</h1>
                <p class="subtitle">Vis√£o geral do estoque de ovos</p>
            </div>

            <div class="stock-display">
                <div class="stock-card" id="stock-main-card">
                    <div class="stock-icon">ü•ö</div>
                    <div class="stock-info">
                        <span class="stock-label">Estoque Atual</span>
                        <span class="stock-value" id="stock-quantity">...</span>
                        <span class="stock-unit">unidades</span>
                    </div>
                    <div class="stock-indicator" id="stock-indicator">
                        <span class="indicator-text">Carregando...</span>
                    </div>
                </div>
            </div>

            <div class="stats-grid" id="stats-grid-estoque">
                <div class="stat-card">
                    <i class="fas fa-arrow-circle-down stat-icon entrada"></i>
                    <div class="stat-info">
                        <span class="stat-value" id="stat-entradas-mes">...</span>
                        <span class="stat-label">Entradas este m√™s</span>
                    </div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-shopping-cart stat-icon saida"></i>
                    <div class="stat-info">
                        <span class="stat-value" id="stat-saidas-mes">...</span>
                        <span class="stat-label">Sa√≠das este m√™s</span>
                    </div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-heart-crack stat-icon quebrado"></i>
                    <div class="stat-info">
                        <span class="stat-value" id="stat-quebrados-mes">...</span>
                        <span class="stat-label">Quebrados este m√™s</span>
                    </div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-dollar-sign stat-icon faturamento"></i>
                    <div class="stat-info">
                        <span class="stat-value" id="stat-faturamento-mes">...</span>
                        <span class="stat-label">Faturamento este m√™s</span>
                    </div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-file-invoice-dollar stat-icon despesa"></i>
                    <div class="stat-info">
                        <span class="stat-value" id="stat-despesas-mes">...</span>
                        <span class="stat-label">Despesas este m√™s</span>
                    </div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-tag stat-icon preco"></i>
                    <div class="stat-info">
                        <span class="stat-value" id="stat-preco-atual">...</span>
                        <span class="stat-label">Pre√ßo atual / ovo</span>
                    </div>
                </div>
            </div>

            <div class="last-update" id="last-update">
                √öltima atualiza√ß√£o: ‚Äî
            </div>
        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê ABA: ENTRADAS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="tab-entradas" class="tab-content">
            <div class="page-header">
                <h1><i class="fas fa-arrow-circle-down"></i> Entrada de Ovos</h1>
                <p class="subtitle">Registre a entrada de novos ovos no estoque</p>
            </div>

            <div class="content-grid">
                <div class="card form-card">
                    <h3><i class="fas fa-plus-circle"></i> Nova Entrada</h3>
                    <form id="form-entrada">
                        <div class="form-group">
                            <label for="entrada-quantidade">Quantidade de Ovos</label>
                            <input type="number" id="entrada-quantidade" min="1" step="1" required placeholder="Ex: 30">
                        </div>
                        <div class="form-group">
                            <label for="entrada-observacao">Observa√ß√£o (opcional)</label>
                            <textarea id="entrada-observacao" rows="3" placeholder="Ex: Coleta da manh√£..."></textarea>
                        </div>
                        <button type="submit" class="btn btn-success">
                            <i class="fas fa-check"></i> Registrar Entrada
                        </button>
                    </form>
                </div>

                <div class="card list-card">
                    <div class="card-header-row">
                        <h3><i class="fas fa-list"></i> Entradas Recentes</h3>
                        <div class="month-filter">
                            <button class="btn btn-icon" onclick="changeMonth('entradas', -1)"><i class="fas fa-chevron-left"></i></button>
                            <span id="entradas-month-label" class="month-label">‚Äî</span>
                            <button class="btn btn-icon" onclick="changeMonth('entradas', 1)"><i class="fas fa-chevron-right"></i></button>
                        </div>
                    </div>
                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr>
                                    <th>Data</th>
                                    <th>Quantidade</th>
                                    <th>Observa√ß√£o</th>
                                    <th>Usu√°rio</th>
                                    <th>A√ß√£o</th>
                                </tr>
                            </thead>
                            <tbody id="entradas-list">
                                <tr><td colspan="5" class="empty-state">Nenhuma entrada registrada</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê ABA: VENDAS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="tab-vendas" class="tab-content">
            <div class="page-header">
                <h1><i class="fas fa-shopping-cart"></i> Vendas / Sa√≠das</h1>
                <p class="subtitle">Registre a venda ou sa√≠da de ovos</p>
            </div>

            <div class="content-grid">
                <div class="card form-card">
                    <h3><i class="fas fa-cash-register"></i> Nova Venda</h3>
                    <div class="stock-info-bar" id="venda-stock-info">
                        <i class="fas fa-warehouse"></i>
                        Estoque dispon√≠vel: <strong id="venda-stock-qty">0</strong> ovos
                    </div>
                    <form id="form-venda">
                        <div class="form-group">
                            <label for="venda-quantidade">Quantidade</label>
                            <input type="number" id="venda-quantidade" min="1" step="1" required placeholder="Ex: 12">
                        </div>
                        <div class="form-group">
                            <label for="venda-preco">Pre√ßo Unit√°rio (R$)</label>
                            <input type="text" id="venda-preco" required placeholder="0,90" inputmode="decimal">
                        </div>
                        <div class="form-group">
                            <label for="venda-total">Valor Total (R$)</label>
                            <input type="text" id="venda-total" class="total-input" required placeholder="0,00" inputmode="decimal">
                        </div>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-check"></i> Registrar Venda
                        </button>
                    </form>
                </div>

                <div class="card list-card">
                    <div class="card-header-row">
                        <h3><i class="fas fa-list"></i> Vendas Recentes</h3>
                        <div class="month-filter">
                            <button class="btn btn-icon" onclick="changeMonth('vendas', -1)"><i class="fas fa-chevron-left"></i></button>
                            <span id="vendas-month-label" class="month-label">‚Äî</span>
                            <button class="btn btn-icon" onclick="changeMonth('vendas', 1)"><i class="fas fa-chevron-right"></i></button>
                        </div>
                    </div>
                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr>
                                    <th>Data</th>
                                    <th>Qtd</th>
                                    <th>Pre√ßo Unit.</th>
                                    <th>Total</th>
                                    <th>Usu√°rio</th>
                                    <th>A√ß√£o</th>
                                </tr>
                            </thead>
                            <tbody id="vendas-list">
                                <tr><td colspan="6" class="empty-state">Nenhuma venda registrada</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê ABA: QUEBRADOS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="tab-quebrados" class="tab-content">
            <div class="page-header">
                <h1><i class="fas fa-heart-crack"></i> Ovos Quebrados</h1>
                <p class="subtitle">Registre perdas de ovos quebrados</p>
            </div>

            <div class="content-grid">
                <div class="card form-card">
                    <h3><i class="fas fa-plus-circle"></i> Registrar Perda</h3>
                    <div class="stock-info-bar stock-info-bar-danger" id="quebrado-stock-info">
                        <i class="fas fa-warehouse"></i>
                        Estoque dispon√≠vel: <strong id="quebrado-stock-qty">0</strong> ovos
                    </div>
                    <form id="form-quebrado">
                        <div class="form-group">
                            <label for="quebrado-quantidade">Quantidade Quebrada</label>
                            <input type="number" id="quebrado-quantidade" min="1" step="1" required placeholder="Ex: 5">
                        </div>
                        <div class="form-group">
                            <label for="quebrado-motivo">Motivo (opcional)</label>
                            <textarea id="quebrado-motivo" rows="3" placeholder="Ex: Ca√≠ram durante o transporte..."></textarea>
                        </div>
                        <button type="submit" class="btn btn-danger">
                            <i class="fas fa-heart-crack"></i> Registrar Quebra
                        </button>
                    </form>
                </div>

                <div class="card list-card">
                    <div class="card-header-row">
                        <h3><i class="fas fa-list"></i> Registros de Quebra</h3>
                        <div class="month-filter">
                            <button class="btn btn-icon" onclick="changeMonth('quebrados', -1)"><i class="fas fa-chevron-left"></i></button>
                            <span id="quebrados-month-label" class="month-label">‚Äî</span>
                            <button class="btn btn-icon" onclick="changeMonth('quebrados', 1)"><i class="fas fa-chevron-right"></i></button>
                        </div>
                    </div>
                    <div class="quebrados-total-bar">
                        <i class="fas fa-heart-crack"></i>
                        Total quebrados neste m√™s: <strong id="quebrados-month-total">0</strong> ovos
                    </div>
                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr>
                                    <th>Data</th>
                                    <th>Quantidade</th>
                                    <th>Motivo</th>
                                    <th>Usu√°rio</th>
                                    <th>A√ß√£o</th>
                                </tr>
                            </thead>
                            <tbody id="quebrados-list">
                                <tr><td colspan="5" class="empty-state">Nenhum registro de quebra</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê ABA: DESPESAS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="tab-despesas" class="tab-content">
            <div class="page-header">
                <h1><i class="fas fa-file-invoice-dollar"></i> Despesas</h1>
                <p class="subtitle">Registre despesas para subtrair do faturamento</p>
            </div>

            <div class="content-grid">
                <div class="card form-card">
                    <h3><i class="fas fa-plus-circle"></i> Nova Despesa</h3>
                    <form id="form-despesa">
                        <div class="form-group">
                            <label for="despesa-valor">Valor (R$)</label>
                            <input type="number" id="despesa-valor" step="0.01" min="0.01" required placeholder="Ex: 150.00">
                        </div>
                        <div class="form-group">
                            <label for="despesa-descricao">Descri√ß√£o</label>
                            <textarea id="despesa-descricao" rows="3" required placeholder="Ex: Compra de ra√ß√£o, manuten√ß√£o..."></textarea>
                        </div>
                        <button type="submit" class="btn btn-warning">
                            <i class="fas fa-file-invoice-dollar"></i> Registrar Despesa
                        </button>
                    </form>
                </div>

                <div class="card list-card">
                    <div class="card-header-row">
                        <h3><i class="fas fa-list"></i> Despesas do M√™s</h3>
                        <div class="month-filter">
                            <button class="btn btn-icon" onclick="changeMonth('despesas', -1)"><i class="fas fa-chevron-left"></i></button>
                            <span id="despesas-month-label" class="month-label">‚Äî</span>
                            <button class="btn btn-icon" onclick="changeMonth('despesas', 1)"><i class="fas fa-chevron-right"></i></button>
                        </div>
                    </div>
                    <div class="despesas-total-bar">
                        <i class="fas fa-file-invoice-dollar"></i>
                        Total despesas neste m√™s: <strong id="despesas-month-total">R$ 0,00</strong>
                    </div>
                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr>
                                    <th>Data</th>
                                    <th>Valor</th>
                                    <th>Descri√ß√£o</th>
                                    <th>Usu√°rio</th>
                                    <th>A√ß√£o</th>
                                </tr>
                            </thead>
                            <tbody id="despesas-list">
                                <tr><td colspan="5" class="empty-state">Nenhuma despesa registrada</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê ABA: PRE√áOS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="tab-precos" class="tab-content">
            <div class="page-header">
                <h1><i class="fas fa-tags"></i> Pre√ßos</h1>
                <p class="subtitle">Gerencie o pre√ßo unit√°rio dos ovos</p>
            </div>

            <div class="content-grid">
                <div class="card form-card">
                    <h3><i class="fas fa-edit"></i> Definir Pre√ßo</h3>
                    <div class="current-price-display">
                        <span class="price-label">Pre√ßo Atual</span>
                        <span class="price-value" id="current-price">...</span>
                    </div>
                    <form id="form-preco">
                        <div class="form-group">
                            <label for="novo-preco">Novo Pre√ßo Unit√°rio (R$)</label>
                            <input type="number" id="novo-preco" step="0.01" min="0" required placeholder="0,00">
                        </div>
                        <button type="submit" class="btn btn-warning">
                            <i class="fas fa-save"></i> Atualizar Pre√ßo
                        </button>
                    </form>
                </div>

                <div class="card list-card">
                    <h3><i class="fas fa-history"></i> Hist√≥rico de Pre√ßos</h3>
                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr>
                                    <th>Data</th>
                                    <th>Pre√ßo Unit√°rio</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="precos-list">
                                <tr><td colspan="3" class="empty-state">Nenhum pre√ßo definido</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê ABA: RELAT√ìRIOS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="tab-relatorios" class="tab-content">
            <div class="page-header">
                <h1><i class="fas fa-chart-pie"></i> Relat√≥rios &amp; Gr√°ficos</h1>
                <p class="subtitle">An√°lise detalhada de produ√ß√£o e vendas</p>
            </div>

            <div class="report-filters">
                <div class="filter-group">
                    <label for="report-month">M√™s</label>
                    <select id="report-month"></select>
                </div>
                <div class="filter-group">
                    <label for="report-year">Ano</label>
                    <select id="report-year"></select>
                </div>
                <button class="btn btn-primary" onclick="loadReport()">
                    <i class="fas fa-search"></i> Gerar Relat√≥rio
                </button>
                <div class="export-buttons">
                    <button class="btn btn-export btn-export-excel" onclick="exportExcel()" title="Baixar Excel do m√™s">
                        <i class="fas fa-file-excel"></i> <span class="export-label">Excel</span>
                    </button>
                    <button class="btn btn-export btn-export-pdf" onclick="exportPDF()" title="Baixar PDF do m√™s">
                        <i class="fas fa-file-pdf"></i> <span class="export-label">PDF</span>
                    </button>
                    <button class="btn btn-export btn-export-anual" onclick="exportExcelAnual()" title="Baixar Excel anual">
                        <i class="fas fa-calendar-alt"></i> <span class="export-label">Anual</span>
                    </button>
                </div>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <i class="fas fa-arrow-circle-down stat-icon entrada"></i>
                    <div class="stat-info">
                        <span class="stat-value" id="report-entradas">...</span>
                        <span class="stat-label">Total Entradas</span>
                    </div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-shopping-cart stat-icon saida"></i>
                    <div class="stat-info">
                        <span class="stat-value" id="report-saidas">...</span>
                        <span class="stat-label">Total Vendido</span>
                    </div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-heart-crack stat-icon quebrado"></i>
                    <div class="stat-info">
                        <span class="stat-value" id="report-quebrados">...</span>
                        <span class="stat-label">Total Quebrados</span>
                    </div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-dollar-sign stat-icon faturamento"></i>
                    <div class="stat-info">
                        <span class="stat-value" id="report-faturamento">...</span>
                        <span class="stat-label">Total Faturado</span>
                    </div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-file-invoice-dollar stat-icon despesa"></i>
                    <div class="stat-info">
                        <span class="stat-value" id="report-despesas">...</span>
                        <span class="stat-label">Total Despesas</span>
                    </div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-coins stat-icon lucro"></i>
                    <div class="stat-info">
                        <span class="stat-value" id="report-lucro">...</span>
                        <span class="stat-label">Lucro L√≠quido</span>
                    </div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-balance-scale stat-icon preco"></i>
                    <div class="stat-info">
                        <span class="stat-value" id="report-saldo">...</span>
                        <span class="stat-label">Saldo do M√™s (ovos)</span>
                    </div>
                </div>
            </div>

            <div class="charts-grid">
                <div class="card chart-card">
                    <h3><i class="fas fa-chart-bar"></i> Entradas vs Sa√≠das</h3>
                    <div class="chart-container">
                        <canvas id="chart-entradas-saidas"></canvas>
                    </div>
                </div>
                <div class="card chart-card">
                    <h3><i class="fas fa-chart-line"></i> Faturamento Mensal</h3>
                    <div class="chart-container">
                        <canvas id="chart-faturamento"></canvas>
                    </div>
                </div>
                <div class="card chart-card chart-card-small">
                    <h3><i class="fas fa-chart-pie"></i> Distribui√ß√£o do Ano</h3>
                    <div class="chart-container chart-container-pie">
                        <canvas id="chart-distribuicao"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê ABA: ADMIN ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <section id="tab-admin" class="tab-content">
            <div class="page-header">
                <h1><i class="fas fa-users-cog"></i> Painel de Administra√ß√£o</h1>
                <p class="subtitle">Gerencie os usu√°rios da fazenda</p>
            </div>

            <div class="content-grid">
                <div class="card form-card">
                    <h3><i class="fas fa-user-plus"></i> Criar Nova Conta</h3>
                    <form id="form-criar-usuario">
                        <div class="form-group">
                            <label for="new-user-nome">Nome Completo</label>
                            <input type="text" id="new-user-nome" required placeholder="Ex: Jo√£o da Silva" minlength="2">
                        </div>
                        <div class="form-group">
                            <label for="new-user-username">Login (Usu√°rio)</label>
                            <input type="text" id="new-user-username" required placeholder="Ex: joao" minlength="3" autocapitalize="none">
                        </div>
                        <div class="form-group">
                            <label for="new-user-password">Senha</label>
                            <input type="password" id="new-user-password" required placeholder="M√≠nimo 4 caracteres" minlength="4">
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="new-user-admin">
                                <span>Administrador</span>
                            </label>
                            <small class="form-hint">Admins podem criar/remover contas</small>
                        </div>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-user-plus"></i> Criar Conta
                        </button>
                    </form>
                </div>

                <div class="card list-card">
                    <h3><i class="fas fa-users"></i> Usu√°rios da Fazenda</h3>
                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>Login</th>
                                    <th>Tipo</th>
                                    <th>√öltimo Acesso</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="admin-users-list">
                                <tr><td colspan="5" class="empty-state">Carregando...</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TOAST CONTAINER ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div id="toast-container"></div>

    <script src="/static/js/app.js"></script>
</body>
</html>
